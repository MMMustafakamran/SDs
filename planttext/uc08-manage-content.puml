@startuml
title UC-08: Manage Generated Learning Content (Design-Level)

actor Teacher
participant Frontend as "React Frontend"
participant ContentAPI as "Content Validation"
participant Note as "Note Model"
participant LLM as "LLM+RAG System"
participant QuestionBank as "Quiz/Question Store"

note over Teacher, Note
Design-level SD. Covers validation of student notes
and teacher generation/validation of quiz questions.
end note

'======================
' Validate student-submitted notes
'======================
Teacher -> Frontend : Open validation queue
Frontend -> ContentAPI : GET pending notes
activate ContentAPI
ContentAPI -> Note : Fetch pending (is_validated=false)
Note --> ContentAPI : Notes with metadata
ContentAPI --> Frontend : Pending notes
alt No pending notes
    ContentAPI --> Frontend : Empty list
    Frontend --> Teacher : Nothing to review
end
Teacher -> Frontend : Review, approve/reject/request revision
Frontend -> ContentAPI : POST decision + feedback
ContentAPI -> Note : Update validation fields
ContentAPI --> Frontend : Acknowledged

'======================
' Generate/validate quiz questions
'======================
Teacher -> Frontend : Generate quiz questions
Frontend -> ContentAPI : POST generate { topic, difficulty, qty }
ContentAPI -> LLM : Generate draft questions
LLM --> ContentAPI : Draft questions
Teacher -> Frontend : Review each question
Frontend -> ContentAPI : Approve/Edit/Reject
ContentAPI -> QuestionBank : Store approved items
ContentAPI --> Frontend : Confirmation

deactivate ContentAPI

@enduml


